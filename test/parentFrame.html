<html>
<head>
<script src="../ChannelPlate.js"></script>

</head>
<body>
<p>Open the debugging console to see the conversation logged</p>
<iframe class='ChannelPlateClient' src="childFrame.html"></iframe>
</body>
<script>
// Google BSD license http://code.google.com/google_bsd_license.html
// Copyright 2011 Google Inc. johnjbarton@google.com

// Before we create the port we need the iframe element, but it need not be loaded.
var childFrame = document.querySelector('.ChannelPlateClient');

var portToChild = new ChannelPlate.Parent(childFrame, function(message) {
    console.log(window.location +  ' heard: \"' + message.data + '\"');
  });

portToChild.postMessage ("hello child");

</script>
</html>